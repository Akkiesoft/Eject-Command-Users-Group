----------------------------------------------------------------------
 	エアコンリモート用Ejectスクリプト(PHP)
		(c) 2012 Akkiesoft / Ejectコマンドユーザー会
----------------------------------------------------------------------


■なにこれ
Ejectコマンドでエアコンのリモコンを操作するのに便利なPHPスクリプトです。
スマートフォンで操作することを前提としたデザインにしていますが、ほかの
環境でもそれなりに使えるでしょう。


■server/clientの違い
Ejectコマンドを実行するサーバーとWebサーバーが同じ場合はserver版のみ使
用します。
Ejectコマンドを実行するサーバーとWebサーバーが異なる場合は、Ejectコマ
ンドを実行するサーバーにserver版を、WebサーバーにClient版を設置します。


■電源を押すボタン
CD-ROMドライブをApacheユーザーで操作できるようにする必要があります。
/etc/group ファイルを開いて、以下のように権限設定を行います。

	cdrom:x:11:cdrom,apache
	apache:x:48:cdrom,apache

また、SELinuxは無効にするか、がんばって設定してください。設定はかなり
大変らしいです。


■タイマー機能
タイマー機能を使用するには、atコマンドが使える環境が必要です。たぶん
atdサービスを起動している必要があります。
また、Webサーバーのユーザー(apacheユーザーなど)からatコマンドが実行で
きるように、/etc/passwdファイルを書き換える必要があります。具体的には、
ユーザーがログインできる必要があります。

(書き換え前) apache:x:48:48:Apache:/var/www:/sbin/nologin
(書き換え後) apache:x:48:48:Apache:/var/www:/bin/bash

□Debian/Ubuntuの場合
/etc/at.denyからwww-dataを削除します。


■室温表示について
室温表示には、USB温度計を使用しています。私の場合はTEMPer USBを使用し
ています。温度計がない場合は適宜ソースを削ってください。


■GPIO版
Raspberry PiのGPIO版を作りました。LEDチカチカで対応でやる前提です。
利用にはWebIOPiが必要です。
ちなみに、Raspbianでタイマーを利用するときは、atdをインストールして
/etc/at.deny から www-data ユーザーを削除します。
